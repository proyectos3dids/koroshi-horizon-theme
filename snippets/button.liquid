{%- comment -%}
  Uso dentro de una SECTION:
  {% render 'button', link: block.settings.link, block: block %}
{%- endcomment -%}

{% assign block_settings = block.settings | default: nil %}

{% assign icon_url = 'https://cdn.shopify.com/s/files/1/0922/7858/7767/files/Vector_28.svg?v=1758269263' %}
{% assign icon_url_hover = 'https://cdn.shopify.com/s/files/1/0922/7858/7767/files/Vector_28.svg?v=1758269263' %}

{%- assign show_icon = false -%}
{%- assign bold_text = false -%}
{%- if block_settings != nil -%}
  {%- assign show_icon = block_settings.show_icon | default: false -%}
  {%- assign bold_text = block_settings.bold_text | default: false -%}
{%- endif -%}

<a
  {% if link == blank %}role="link" aria-disabled="true"{% else %}href="{{ link }}"{% endif %}
  class="
    size-style
    {{ block_settings.style_class }}
    {{ block_settings.style_class }}--{{ block.id }}
    {% if show_icon %}has-icon{% endif %}
    {% if bold_text %}is-bold{% endif %}
  "
  style="
    {% if block_settings %}{% render 'size-style', settings: block_settings %}{% endif %}
    {% if show_icon %}--icon-url: url('{{ icon_url }}'); --icon-url-hover: url('{{ icon_url_hover }}');{% endif %}
  "
  {% if block_settings and block_settings.open_in_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
  {{ block.shopify_attributes }}
>
  <span class="button__label">{{ block_settings.label }}</span>
  {% if show_icon %}<span class="button__icon" aria-hidden="true"></span>{% endif %}
</a>

<style>
  /* Mantener estilos de link */
  .link{ text-decoration:none; text-decoration-color:currentcolor; }
  .link:hover{ color:var(--color-primary-hover); text-decoration-color:transparent; }

  /* CENTRADO DEL CONTENIDO (con o sin icono) */
  .size-style{
    display:inline-flex;          /* no rompe layout existente */
    align-items:center;
    justify-content:center;       /* centra texto + icono dentro del bot칩n */
    vertical-align:middle;
    text-align:center;            /* fallback si el bot칩n creciera a 100% */
  }

  .is-bold{ font-weight:700; }

  /* Icono opcional */
  .has-icon{ gap:.5rem; }         /* solo a침ade separaci칩n cuando hay icono */

  .has-icon .button__icon{
    display:inline-block;
    width:1em; height:1em;        /* mismo alto que el texto */
    background-image:var(--icon-url);
    background-repeat:no-repeat;
    background-size:contain;
    background-position:center;
    flex:0 0 1em;                 /* evita que desplace el texto */
  }
  .has-icon:hover .button__icon{
    background-image:var(--icon-url-hover);
  }
</style>
